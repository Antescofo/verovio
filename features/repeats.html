---
---
<h4>Repeats</h4>

<p>
    Verovio supports <code>&lt;mRpt&gt;</code>. The number on top of each repeat is calculated by Verovio. The <code>@mutli.number</code> in <code>&lt;scoreDef&gt;</code> or <code>&lt;staffDef&gt;</code> can be set to false for not showing the number. (The value of the <code>@mutli.number</code> will be set for the entire score or staff and cannot be redefined.)
</p>

<div id="svg_output-mrpt" style="overflow:auto;"/>

{% include mei-excerpt.html id="code-mrpt" file="mrpt.mei" %}
<div id="code-mrpt-xml" style="display: none">
{% highlight xml %}
{% include features/mrpt.txt %}
{% endhighlight %}
</div>
<hr/>

<p>
    Verovio also supports repeats of two or more measures, with <code>&lt;mRpt2&gt;</code> and <code>&lt;multiRpt&gt;</code> respectively. With <code>&lt;multiRpt&gt;</code>, the number of measures to be repeted has to be provided in  <code>@num</code>.
</p>

<div id="svg_output-mrpt2" style="overflow:auto;"/>

{% include mei-excerpt.html id="code-mrpt2" file="mrpt2.mei" %}
<div id="code-mrpt2-xml" style="display: none">
{% highlight xml %}
{% include features/mrpt2.txt %}
{% endhighlight %}
</div>

<div id="svg_output-multirpt" style="overflow:auto;"/>

{% include mei-excerpt.html id="code-multirpt" file="multirpt.mei" %}
<div id="code-multirpt-xml" style="display: none">
{% highlight xml %}
{% include features/multirpt.txt %}
{% endhighlight %}
</div>

<!-- ***************************** -->
<h5>Beat repeats</h5>

<p>
    Verovio also supports beat repetition with <code>&lt;beatRpt&gt;</code> elements. The value of <code>@rend</code> determines the number of slashes, including for <code>@rend="mixed"</code>. The alignment of the beat repetition will not work with compound meters when the repeated beat duration does not correspond to the meter signature unit.
</p>

<div id="svg_output-beatrpt1" style="overflow:auto;"/>
    
{% include mei-excerpt.html id="code-beatrpt1" file="beatrpt1.mei" %}
<div id="code-beatrpt1-xml" style="display: none">
{% highlight xml %}
{% include features/beatrpt1.txt %}
{% endhighlight %}
</div>

<div id="svg_output-beatrpt2" style="overflow:auto;"/>

{% include mei-excerpt.html id="code-beatrpt2" file="beatrpt2.mei" %}
<div id="code-beatrpt2-xml" style="display: none">
{% highlight xml %}
{% include features/beatrpt2.txt %}
{% endhighlight %}
</div>

<!-- ***************************** -->
<h4>Endings</h4>

<p>
    Verovio supports <code>&lt;ending&gt;</code> elements. Consecutive endings are aligned horizontally. By default, Verovio renders endings on top of each staff group. This is the equivalent to the value <code>grouped</code> for the <code>@ending.rend</code> attribute in <code>&lt;scoreDef&gt;</code>. For rendering endings only at the top its value has to be set to <code>top</code>.
</p>

<div id="svg_output-endings" style="overflow:auto;"/>

{% include mei-excerpt.html id="code-endings" file="endings.mei" %}
<div id="code-endings-xml" style="display: none">
{% highlight xml %}
{% include features/endings.txt %}
{% endhighlight %}
</div>


<script type="text/javascript">
//<![CDATA[
    zoom = 40;
    pageWidth = 1500;
    spacingStaff = 4;
    
    // adjust the zoom for small screens
    width = $('#feature').width();
    if ( width < zoom * pageWidth / 100 ) {
        zoom = width * 100 / pageWidth;
    }
    
    $.get( "{{ site.baseurl }}/examples/features/mrpt.mei" , function( data ) {
        load_data( data, $('#svg_output-mrpt') );
    });
    
    $.get( "{{ site.baseurl }}/examples/features/mrpt2.mei" , function( data ) {
        load_data( data, $('#svg_output-mrpt2') );
    });
    
    $.get( "{{ site.baseurl }}/examples/features/multirpt.mei" , function( data ) {
        load_data( data, $('#svg_output-multirpt') );
    });
    
    $.get( "{{ site.baseurl }}/examples/features/beatrpt1.mei" , function( data ) {
        load_data( data, $('#svg_output-beatrpt1') );
    });
    
    $.get( "{{ site.baseurl }}/examples/features/beatrpt2.mei" , function( data ) {
        load_data( data, $('#svg_output-beatrpt2') );
    });
    
    $.get( "{{ site.baseurl }}/examples/features/endings.mei" , function( data ) {
        load_data( data, $('#svg_output-endings') );
    });
//]]>
</script>

